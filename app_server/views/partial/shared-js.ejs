<!-- SHARED JS START -->

<script>
    'use strict';
    $(document).ready(function() {

        // get current user's login status, then show/hide nav buttons

        var token = localStorage.getItem('token');
        if(token !== null){
            $('#signOutBtn').css("display", "inherit");
            $('#signInBtn').css("display", "none");
            $('#registerBtn').css("display", "none");
            $('#createBtn').css("display", "inherit");
        }else{
            $('#signOutBtn').css("display", "none");
            $('#signInBtn').css("display", "inherit");
            $('#registerBtn').css("display", "inherit");
            $('#createBtn').css("display", "none");
        }

        // add search button functionality

        $('#searchForm').submit(function(e){
            e.preventDefault();
            if (!validator.isEmpty($('#searchInput').val())){
                if (validator.isAlpha($('#searchInput').val())){
                    window.location = "/search-result/" + $('#searchInput').val();
                }else {
                    window.location = "/error/12";
                }
            }else{
                window.location = "/error/5";
            }
        });

        // add sign out button functionality

        $('#signOutBtn').click(function(){
            localStorage.removeItem('token');
            localStorage.removeItem('isAdmin');
            window.location = "/success/5";
        });
    });
</script>

<!-- SHARED JS END -->